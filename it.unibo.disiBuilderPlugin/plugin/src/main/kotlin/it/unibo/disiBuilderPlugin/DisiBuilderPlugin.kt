/*
 * This Kotlin source file was generated by the Gradle 'init' task
 * AND CHANGED BY AN-DISI
 */
package it.unibo.disiBuilderPlugin

import org.gradle.api.Plugin
import org.gradle.api.Project
import unibo.disi.builder.*


/**
 * Register tasks for the generation of the code of DISI-actors
 */
class DisiBuilderPlugin: Plugin<Project> {
    override fun apply(project: Project) {
        //Used to check the behavior
        project.tasks.register("buildDisiTest") { task ->
            task.doLast {
                val s = GenUtils.genFilePathName("test")
                println("DisiBuilderPlugin | generates the path-name: $s ")
            }
        }
        //Used as an example of task with arguments
        project.tasks.register("projectInfo", ProjectInfoTask::class.java) {
            it.doFirst {
                println("DisiBuilderPlugin | projectInfo ")
            }
        }
        //Used to generate the skeleton of DISI-actors msg-driven or msg-based
        project.tasks.register("buildActorDisi", BuildActorTask::class.java ){
            it.doFirst {
                println("DisiBuilderPlugin | buildActorDisi ")
            }
        }
        //used to generate an example of a Qak system
        project.tasks.register("buildQakSystem", BuildQakSystemTask::class.java ){
            it.doFirst {
                println("DisiBuilderPlugin | buildQakSystem ")
            }
        }
    }
}
